<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>浅谈扩展 Thomae 函数的可微性 - riteme.site</title>
  <link rel="shortcut icon" href="/favicon.png" type="image/png">
  <link rel="stylesheet" href="/material/material-icons.css">
  <link rel="stylesheet" href="/material/material.min.css" >
  <link rel="stylesheet" href="/gitment/gitment.css">
  <link rel="stylesheet" href="/math-renderer/katex/katex.min.css">
  <link rel="stylesheet" href="/css/site.css">
  <script src="/jquery/jquery-2.2.4.min.js"></script>
  <script src="/jquery/js-cookie.js"></script>
  <script defer src="/material/material.min.js"></script>
  <script src="/math-renderer/selector.js"></script>
  <script src="/gitment/gitment.js"></script>
</head>
<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <header class="mdl-layout__header">
      <div class="mdl-layout__header-row">
        <span class="mdl-layout-title">浅谈扩展 Thomae 函数的可微性</span>
        <div class="mdl-layout-spacer"></div>
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-right">
        <label class="mdl-button mdl-js-button mdl-button--icon" for="fixed-header-drawer-exp"><i class="material-icons">search</i></label>
        <div class="mdl-textfield__expandable-holder">
          <form action="/search.html"><input type="text" class="mdl-textfield__input" placeholder="Search Here" name="q" id="fixed-header-drawer-exp" autocomplete="off" required></form>
        </div>
      </div>
    </div>
  </header>
  <div class="mdl-layout__drawer">
    <span class="mdl-layout-title drawer-title">
      <a href="/index.html" style="color: inherit; font-weight: inherit;text-decoration: none;">
        <img src="/favicon.png" width=32 height=32> riteme.site
      </a>
    </span>
    <nav class="mdl-navigation">
      <a class="mdl-navigation__link" href="/index.html"><i class="material-icons drawer-icon">home</i> 首页</a>
      <a class="mdl-navigation__link" href="/posts.html"><i class="material-icons drawer-icon">library_books</i> 所有文章</a>
      <a class="mdl-navigation__link" href="/about.html"><i class="material-icons drawer-icon">info</i> 关于</a>
      <a class="mdl-navigation__link" href="/links.html"><i class="material-icons drawer-icon">link</i> 友链</a>
      <a class="mdl-navigation__link" href="/search.html"><i class="material-icons drawer-icon">search</i> 搜索</a>
      <a class="mdl-navigation__link" href="https://github.com/riteme/riteme.github.io"><i class="material-icons drawer-icon">class</i> GitHub 项目</a>
    </nav>
  </div>
  <main class="mdl-layout__content">
    <div class="mdl-grid">
      <div class="mdl-cell mdl-cell--9-col mdl-cell--12-col-tablet mdl-cell--12-col-phone">
        <div class="article main-article" lang="en-US">
          
<h1 id="thomae">浅谈扩展 Thomae 函数的可微性</h1>
<p>一般定义的 Thomae&rsquo;s Function <mathjax>$f(x)$</mathjax> 为：</p>
<p><mathjax>$$
f(x) = \begin{cases}
1/p &amp; x \in \mathbf Q,\ x = q/p,\ p \in \mathbf N^+,\ q \in \mathbf Z,\ p \bot q \\
0 &amp; x \in \mathbf R \backslash \mathbf Q
\end{cases}
$$</mathjax></p>
<p>有时也被称为 Riemann 函数、爆米花函数。这个函数的一大特点就是它是一个周期为 <mathjax>$1$</mathjax> 的函数（证明非常简单），所以研究时只需要考虑 <mathjax>$[0,\ 1)$</mathjax> 内的情况就好了。下文分析时都假定 <mathjax>$0 \leqslant x &lt; 1$</mathjax>。扩展的 Thomae 函数主要修改了有理点的取值：</p>
<p><mathjax>$$
f_k(x) = \begin{cases}
1/p^k &amp; x \in \mathbf Q,\ x = q/p,\ p \in \mathbf N^+,\ q \in \mathbf Z,\ p \bot q \\
0 &amp; x \in \mathbf R \backslash \mathbf Q
\end{cases}
$$</mathjax></p>
<p>显然 <mathjax>$f_1$</mathjax> 就是原来的函数。随着次数的增大，整个函数的图像也会越来越贴近 <mathjax>$x$</mathjax> 轴：</p>
<p><img alt="f_1(assets/f1.png)" src="https://gitee.com/riteme/blogimg/raw/master/thomae/f1.png" /></p>
<p><center>(<strong>Fig.1.</strong> <mathjax>$f_1(x)$</mathjax> 在 <mathjax>$(-1,\ 1)$</mathjax> 上的图像)</center></p>
<p><img alt="f_2(x)" src="https://gitee.com/riteme/blogimg/raw/master/thomae/f2.png" /></p>
<p><center>(<strong>Fig.2.</strong> <mathjax>$f_2(x)$</mathjax> 在 <mathjax>$(-1,\ 1)$</mathjax> 上的图像)</center></p>
<h2 id="_1">连续性</h2>
<p>首先看一下这个函数在每个点的函数极限 <mathjax>$\lim_{x \rightarrow x_0} f_k(x)$</mathjax>，凭直觉来讲应该是 <mathjax>$0$</mathjax>。直接采用函数极限的 <mathjax>$\varepsilon$</mathjax>-<mathjax>$\delta$</mathjax> 定义，对于所有 <mathjax>$1/p^k \geqslant \varepsilon$</mathjax> 的 <mathjax>$p$</mathjax>，把 <mathjax>$(0,\ 1)$</mathjax> 内以 <mathjax>$p$</mathjax> 为分母的分数全部拿出来，最后得到 <mathjax>$\{1/2,\ 1/3,\ 2/3,\ ...\}$</mathjax>。这样的分数是有限个的，所以可以将它们按大小排序。如果 <mathjax>$x_0$</mathjax> 是有理数且也在其中，则将 <mathjax>$x_0$</mathjax> 删去，毕竟 <mathjax>$f_k(x_0)$</mathjax> 是多少对函数极限来讲并不重要。然后以这些有理点对区间 <mathjax>$[0,\ 1)$</mathjax> 进行切割，这时 <mathjax>$x_0$</mathjax> 必在某个小区间 <mathjax>$(l,\ r)$</mathjax> 中，对于任意的 <mathjax>$x \in (l,\ r)$</mathjax>，显然有 <mathjax>$f_k(x) &lt; \varepsilon$</mathjax>，所以可以得知函数极限为 <mathjax>$0$</mathjax>。</p>
<p>这样一来，不难得出 <mathjax>$f_k(x)$</mathjax> 在无理点连续，有理点不连续的结论了。换句话说，<mathjax>$f_k(x)$</mathjax> 不可能在有理点可微。故接下来就不再考虑有理点了。</p>
<h2 id="f_1x"><mathjax>$f_1(x)$</mathjax> 的可微性</h2>
<p>对于一元函数，可导和可微是等价的。在 <mathjax>$a$</mathjax> 处可导的定义就是下面这个极限：</p>
<p><mathjax>$$
\lim_{x\rightarrow a} {f_1(x) - f_1(a) \over x - a} \xlongequal{a \text{ irrational}} \lim_{x \rightarrow a} {f_1(x) \over x - a}
$$</mathjax></p>
<p>存在。稍作尝试估计都会觉得不存在。首先，假设这个极限存在，那么对于任意趋近于 <mathjax>$a$</mathjax> 的无理数列 <mathjax>$x_n$</mathjax>，显然：</p>
<p><mathjax>$$
\lim {f_1(x_n) \over x_n - a} = 0
$$</mathjax></p>
<p>那么其导数必然为 <mathjax>$0$</mathjax>。从另外一个角度也可以说明这一点：这需要我们注意到所有的无理点都是 <mathjax>$f_k(x)$</mathjax> 的极小值点，在假设 <mathjax>$a$</mathjax> 处可微的情况下，根据 Fermat 引理，可以知道 <mathjax>$a$</mathjax> 是一个驻点。</p>
<p>为了证明极限不存在，我们需要再构造一个趋近于 <mathjax>$a$</mathjax> 的实数列 <mathjax>$y_n$</mathjax>，使得类似的极限<strong>不为</strong> <mathjax>$0$</mathjax>。考虑构造一个有理数列？首先，所谓趋近于 <mathjax>$a$</mathjax> 就是对任意小的 <mathjax>$\varepsilon &gt; 0$</mathjax>，从某一项开始都有 <mathjax>$|y_n - a| &lt; \varepsilon$</mathjax>。设 <mathjax>$y_n = q/p &gt; a$</mathjax>，那么不难得知 <mathjax>$f_1(y_n) \geqslant 1/p$</mathjax><sup id="fnref:not-equality"><a class="footnote-ref" href="#fn:not-equality" rel="footnote">1</a></sup>。考虑极限：</p>
<p><mathjax>$$
\lim {1/p \over q/p - a} \leqslant \lim {f_1(y_n) \over q/p - a}
$$</mathjax></p>
<p>如果 <mathjax>$0 &lt; q/p - a \leqslant 1/p$</mathjax>，那么若其有极限，则极限至少不小于 <mathjax>$1$</mathjax>，我们的目的就达成了。我们总能找到这样的 <mathjax>$p$</mathjax>，满足 <mathjax>$1/p &lt; \varepsilon$</mathjax>，这样一来 <mathjax>$y_n - a \leqslant 1/p &lt; \varepsilon$</mathjax>。同时，<mathjax>$q$</mathjax> 只需要满足 <mathjax>$ap &lt; q \leqslant ap + 1$</mathjax>。令 <mathjax>$q = \lceil ap \rceil$</mathjax> 就 OK 了。于是我们就构造出了预期的有理数列。所以 <mathjax>$f_1(x)$</mathjax> 处处不可导，同时也处处不可微。<span style="float: right"><mathjax>$\blacksquare$</mathjax></span></p>
<h2 id="f_2x"><mathjax>$f_2(x)$</mathjax> 的可微性</h2>
<h3 id="_2">初步尝试</h3>
<p>对于 <mathjax>$f_2(x)$</mathjax> 尝试下同样的方法：构造趋近于无理数 <mathjax>$a$</mathjax> 的有理数列 <mathjax>$\{x_n\}$</mathjax>，使得：</p>
<p><mathjax>$$
\lim {f_2(x_n) \over x_n - a}
$$</mathjax></p>
<p>不等于 <mathjax>$0$</mathjax>。设 <mathjax>$x_n = q/p$</mathjax>，那么 <mathjax>$f_2(x_n) \geqslant 1/p^2$</mathjax>。为了方便处理，令 <mathjax>$x_n = q/p &gt; a$</mathjax>，那么：</p>
<p><mathjax>$$
{1/p^2 \over q/p - a} \geqslant 1 \iff ap &lt; q \leqslant ap + 1/p
$$</mathjax></p>
<p>显然如果这样的 <mathjax>$q$</mathjax> 存在，<mathjax>$q$</mathjax> 只能为 <mathjax>$\lceil ap \rceil$</mathjax>。但麻烦的一点在于，上面这个不等式构成的区间长度仅有 <mathjax>$1/p$</mathjax>，不能直接保证 <mathjax>$q$</mathjax> 就在其中 QAQ</p>
<h3 id="dirichlet">Dirichlet 定理</h3>
<p>现在的麻烦在于确定：</p>
<p><mathjax>$$
q \leqslant ap + \frac1p \iff ap - q + \frac1p \geqslant 0
$$</mathjax></p>
<p>是否总是有解 <mathjax>$p$</mathjax> 和 <mathjax>$q$</mathjax>，而且 <mathjax>$p$</mathjax> 可以取得非常大，才能满足 <mathjax>$x_n$</mathjax> 趋向 <mathjax>$a$</mathjax> 的目标。考虑到 <mathjax>$ap - \lceil ap \rceil = \{ap\} - 1 &lt; 0$</mathjax><sup id="fnref:fractional-part"><a class="footnote-ref" href="#fn:fractional-part" rel="footnote">2</a></sup>，于是变为：</p>
<p><mathjax>$$
\{ap\} \geqslant 1 - \frac1p = \frac{p-1}p \tag{1}
$$</mathjax></p>
<p>不难想象，如果 <mathjax>$a$</mathjax> 是有理数，这个不等式在 <mathjax>$p$</mathjax> 很大的情况是肯定会 fail 的。不过现在 <mathjax>$a$</mathjax> 是无理数。直接处理起来有点棘手，但我们可以尝试<strong>有理数近似无理数</strong>的思想。这里我们利用 <strong>Dirichlet 近似定理</strong>（Dirichlet&rsquo;s Approximation Theorem）：</p>
<blockquote>
<p>设 <mathjax>$\alpha$</mathjax> 为实数，对于任意正整数 <mathjax>$n$</mathjax>，总存在整数 <mathjax>$q$</mathjax> 和 <mathjax>$[1,\ n]$</mathjax> 内的正整数 <mathjax>$p$</mathjax>，满足：<br />
<mathjax>$$
|p\alpha - q| &lt; \frac1n
$$</mathjax></p>
<p>也就是：<br />
<mathjax>$$
\left|\alpha - \frac{q}p\right| &lt; \frac1{np} \leqslant \frac1{p^2}
$$</mathjax></p>
</blockquote>
<p>虽然说还有更强的结论，但 Dirichlet 近似定理给人的感觉已经足够厉害并且形式简单。它的证明也相当初等：只需要用到鸽巢原理。直观上理解，<mathjax>$|p\alpha - q|$</mathjax> 这个东西的最小值就是 <mathjax>$\min\{\{p\alpha\},\ 1 - \{p\alpha\}\}$</mathjax>，因此目标就是证明存在 <mathjax>$p \leqslant n$</mathjax> 使得这个东西小于 <mathjax>$1/n$</mathjax>。如果存在 <mathjax>$p$</mathjax> 使得 <mathjax>$\{p\alpha\}$</mathjax> 小于 <mathjax>$1/n$</mathjax> 或者大于 <mathjax>$1 - 1/n$</mathjax>，那么结论直接成立。那有可能没有吗？考虑 <mathjax>$\{0\cdot \alpha\}$</mathjax>、<mathjax>$\{1\cdot \alpha\}$</mathjax>、&hellip;、<mathjax>$\{n\alpha\}$</mathjax> 一共 <mathjax>$n + 1$</mathjax> 个值，同时将区间 <mathjax>$[0,\ 1)$</mathjax> <mathjax>$n$</mathjax> 等分为 <mathjax>$[0,\ 1/n)$</mathjax>、<mathjax>$[1/n,\ 2/n)$</mathjax>、&hellip;、<mathjax>$[(n-1)/n,\ 1)$</mathjax>，根据鸽巢原理，必定存在 <mathjax>$0 \leqslant i &lt; j \leqslant n$</mathjax>，使得 <mathjax>$\{i\alpha\}$</mathjax> 和 <mathjax>$\{j\alpha\}$</mathjax> 在同一个区间里面。于是乎：</p>
<p><mathjax>$$
|\{j\alpha\} - \{i\alpha\}| &lt; 1/n \tag{2}
$$</mathjax></p>
<p>这时把整数部分补上就可以完成证明：令 <mathjax>$p = j - i \in [1,\ n]$</mathjax>，<mathjax>$q = \lfloor j\alpha \rfloor - \lfloor i\alpha \rfloor \in \mathbf Z$</mathjax>，那么 <mathjax>$|p\alpha - q|$</mathjax> 就变成了 <mathjax>$(2)$</mathjax> 中的式子，定理证明完毕。<span style="float: right"><mathjax>$\blacksquare$</mathjax></span></p>
<p>当 <mathjax>$p &gt; 1$</mathjax> 时，<mathjax>$1/p^2$</mathjax> 显然小于 <mathjax>$1/p$</mathjax>，而相邻两个 <mathjax>$q/p$</mathjax> 的差却为 <mathjax>$1/p$</mathjax>，所以对于特定的 <mathjax>$p$</mathjax>，满足条件的 <mathjax>$q$</mathjax> 是唯一的。当然特殊情况 <mathjax>$p = 1$</mathjax> 时，也只有 <mathjax>$\alpha = 1/2 + k \:\: (k \in \mathbf Z)$</mathjax> 时才能有两个 <mathjax>$q$</mathjax>，不过可惜 <mathjax>$\alpha$</mathjax> 为无理数，所以无论哪种情况都可以视作唯一的。从这一点可以得到 Dirichlet 近似定理的一个推论：</p>
<blockquote>
<p><strong>推论 1</strong>　设 <mathjax>$\alpha$</mathjax> 为无理数<sup id="fnref:infinity-for-irrationals"><a class="footnote-ref" href="#fn:infinity-for-irrationals" rel="footnote">3</a></sup>，存在<strong>无穷多</strong>的 <mathjax>$q$</mathjax> 和 <mathjax>$p$</mathjax>（<mathjax>$q$</mathjax> 是整数，<mathjax>$p$</mathjax> 是正整数）满足：<br />
<mathjax>$$
\left|\alpha - \frac{q}p\right| &lt; \frac1{p^2}
$$</mathjax></p>
</blockquote>
<p><strong>证明</strong>　假设这种近似数量有限，设为 <mathjax>$q_1/p_1,\ q_2/p_2,\ ...,\ q_m/p_m$</mathjax>，那么取足够大的 <mathjax>$n$</mathjax> 使得 <mathjax>$1/n &lt; \min|\alpha - p_k/q_k| \:\: (1 \leqslant k \leqslant m)$</mathjax>。由于 <mathjax>$\alpha$</mathjax> 为无理数，所以不等式右边肯定不是 <mathjax>$0$</mathjax>。于是根据 Dirichlet 定理，必定能再得到 <mathjax>$q_{m + 1}/p_{m + 1}$</mathjax> 满足 <mathjax>$|\alpha - q_{m + 1}/p_{m + 1}| &lt; 1/np_{m + 1} \leqslant 1/n$</mathjax>，这表明新的近似比之前的近似都更加优秀，不可能在前 <mathjax>$m$</mathjax> 个中出现过，与假设相矛盾。<span style="float: right"><mathjax>$\blacksquare$</mathjax></span></p>
<p>考虑到 <mathjax>$q$</mathjax> 的唯一性，上述定理还可以写做：</p>
<blockquote>
<p><strong>推论 2</strong>　设 <mathjax>$\alpha$</mathjax> 为无理数，存在无穷多的正整数 <mathjax>$n$</mathjax> 满足：<br />
<mathjax>$$
\min\{\{n\alpha\},\ 1 - \{n\alpha\}\} &lt; \frac1n \tag{3}
$$</mathjax></p>
</blockquote>
<h3 id="_3">最后一步</h3>
<p>现在是时候回到正题，因为我们已经发觉 <mathjax>$(3)$</mathjax> 式与 <mathjax>$(1)$</mathjax> 式的高度相似性了：</p>
<p><mathjax>$$
\{ap\} \geqslant 1 - \frac1p \iff 1 - \{ap\} \leqslant \frac1p \tag{1}
$$</mathjax></p>
<p>But&hellip;我们并没有充足的理由说最小值一定就总是能取到 <mathjax>$1 - \{n\alpha\}$</mathjax> 这一边。如果总取到另外一边就 GG 了。虽然有结论表明 <mathjax>$n\alpha$</mathjax> 的小数部分是在 <mathjax>$(0,\ 1)$</mathjax> 上均匀分布的<sup id="fnref:uniformly-distribution"><a class="footnote-ref" href="#fn:uniformly-distribution" rel="footnote">4</a></sup>，但为了使分析尽可能初等，我们不得不对之前 <mathjax>$f_2(x)$</mathjax> 在 <mathjax>$a$</mathjax> 处的导数极限做一些更加精细的分析。在之前为了方便，我们假定了 <mathjax>$x_n &gt; a$</mathjax>。现在放开这条限制，允许 <mathjax>$x_n &lt; a$</mathjax>，不过这时 <mathjax>$f_2(x) / (x_n - a)$</mathjax> 就变成负数了。直觉上我们希望：</p>
<p><mathjax>$$
{f_2(x) \over x_n - a} \leqslant {1/p^2 \over q/p - a} \leqslant -1
$$</mathjax></p>
<p>这时可以推出：</p>
<p><mathjax>$$
ap - \frac1p \leqslant q &lt; ap
$$</mathjax></p>
<p>所以 <mathjax>$q$</mathjax> 只能为 <mathjax>$\lfloor ap \rfloor$</mathjax>。由于 <mathjax>$ap - q = ap - \lfloor ap \rfloor = \{ap\}$</mathjax>，所以得到 <mathjax>$p$</mathjax> 只需要满足 <mathjax>$\{ap\} \leqslant 1/p$</mathjax>。换言之，在不等式 <mathjax>$(3)$</mathjax> 中，我们先可以取足够大的 <mathjax>$p$</mathjax>，使得 <mathjax>$\varepsilon &gt; 1/p$</mathjax> 以满足函数极限逼近的要求，然后考虑 <mathjax>$\min$</mathjax> 的取值。若是取到左边，则存在 <mathjax>$q = \lfloor ap \rfloor$</mathjax> 使得 <mathjax>$f_2(x) / (x_n - a) \leqslant -1$</mathjax>。反之 <mathjax>$q = \lceil ap \rceil$</mathjax> 使得这个东西不小于 <mathjax>$1$</mathjax>。这样无论如何，极限要么不存在，要么就不等于 <mathjax>$0$</mathjax>。所以 <mathjax>$f_2(x)$</mathjax> 在 <mathjax>$a$</mathjax> 处不可微。<span style="float: right"><mathjax>$\blacksquare$</mathjax></span></p>
<p>综上 <mathjax>$f_1(x)$</mathjax> 和 <mathjax>$f_2(x)$</mathjax> 都是处处不可微的。</p>
<h2 id="f_3x"><mathjax>$f_3(x)$</mathjax> 的可微性</h2>
<p>对于 <mathjax>$f_3(x)$</mathjax>，Dirichlet 近似定理的结论已经不够用了，继续下去可能需要动用无理测度的理论，如参考资料 <a href="#BRS09">[BRS09]</a> 所用的方法。我太菜了不懂这套理论，只能就此打住了。实际上，在这个参考资料里已经证明了：<mathjax>$f_3(x)$</mathjax> <strong>有可微点</strong>。</p>
<p>但是，无论 <mathjax>$f_k(x)$</mathjax> 的 <mathjax>$k$</mathjax> 有多大，这个函数总是有许多不可微的无理点。为了得到这一点，我们可以利用一个闭区间套 <mathjax>$\{[l_i,\ r_i]\}$</mathjax> 来辅助构造一个极限为无理数的有理数列 <mathjax>$x_i \in [l_i,\ r_i]$</mathjax>。这个构造的关键在于<strong>有理数集是可数的</strong>，所以可以用一个数列 <mathjax>$a_i$</mathjax> 来映射所有有理数。初始时，随意取一个闭区间 <mathjax>$[l_1,\ r_1]$</mathjax>，然后尝试将有理数 <mathjax>$a_1$</mathjax> 从这个区间中切掉：如果 <mathjax>$a_1 \notin [l_1,\ r_1]$</mathjax>，无需做任何操作；否则取一个足够小的 <mathjax>$\varepsilon$</mathjax>，然后选取 <mathjax>$[l_1,\ a_1 - \varepsilon]$</mathjax> 或 <mathjax>$[a_1 + \varepsilon,\ r_1]$</mathjax> 为闭区间套的下一个区间。之后的操作与之类似。此外，通过适当缩短区间使得闭区间的长度收敛于 <mathjax>$0$</mathjax>（具体而言，可以在构造过程中让 <mathjax>$[l_i,\ r_i]$</mathjax> 交上 <mathjax>$[l_i,\ l_i + 1/i]$</mathjax> 来作为第 <mathjax>$i$</mathjax> 个闭区间）。这样 <mathjax>$x_i$</mathjax> 就会收敛于某个数 <mathjax>$a$</mathjax>。如果 <mathjax>$a \in \mathbf Q$</mathjax>，那么存在 <mathjax>$i \in \mathbf N^+$</mathjax>，有 <mathjax>$a_i = a$</mathjax>。而 <mathjax>$a_i \notin [l_i,\ r_i]$</mathjax>，<mathjax>$\lim x_i \in [l_i,\ r_i]$</mathjax>，这就产生了矛盾。所以 <mathjax>$a$</mathjax> 必须为无理数<sup id="fnref:a-irrational"><a class="footnote-ref" href="#fn:a-irrational" rel="footnote">5</a></sup>。</p>
<p>我们可以在构造过程中加入更多的限制，例如，对于可微性相当致命的条件莫过于 <mathjax>$|f_k(x) / (x - a)| \geqslant 1$</mathjax> 了（之前一直都是在配合它来证明的处处不可微）。所以构造步骤中再加上 <mathjax>$[l_i,\ r_i]$</mathjax> 与 <mathjax>$[x_i - f_k(x_i),\ x_i + f_k(x_i)]$</mathjax> 求交，这样 <mathjax>$\lim f(x_i) / (x_i - a)$</mathjax> 就无法收敛于 <mathjax>$0$</mathjax> 了。同理，设 <mathjax>$f_k(x)$</mathjax> 的不可微无理点构成集合 <mathjax>$A$</mathjax>，如果 <mathjax>$A$</mathjax> 是可列集，那么可以像对待有理数集 <mathjax>$\mathbf Q$</mathjax> 一样，在构造中将其依次挖去，最后得到集合 <mathjax>$A$</mathjax> 之外的一个不可微无理点，这就产生了矛盾，从而证明 <mathjax>$A$</mathjax> 甚至是不可数的！总而言之，Thomae 函数想让每个无理点都可微是根本就不可能的啦 0.0<sup id="fnref:general-function"><a class="footnote-ref" href="#fn:general-function" rel="footnote">6</a></sup></p>
<h2 id="_4">参考资料</h2>
<p><span id="DAP">[DAP].<span> &ldquo;<a href="http://faculty.wwu.edu/woll/DirichletApproximations.pdf"><em>Dirichlet’s Approximation Theorem</em></a>&ldquo;<br />
<span id="BRS09">[BRS09].</span> Kevin Beanland, James W. Roberts, Craig Stevenson, &ldquo;<a href="https://pdfs.semanticscholar.org/dfc0/0d08695f62a1685d72c9a2024cbc8b8e0b5b.pdf"><em>Modifications of Thomae’s Function and Differentiability</em></a>&rdquo; (2009), The Mathematical Association of America Monthly 116<br />
<span id="AoPS">[AoPS].</span> &ldquo;<a href="https://artofproblemsolving.com/wiki/index.php/Rational_approximation"><em>Rational approximation</em></a>&rdquo;, Art of Problem Solving Wiki</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:not-equality">
<p>因为我们没有要求 <mathjax>$p$</mathjax> 与 <mathjax>$q$</mathjax> 互质，所以不能直接说等于。&#160;<a class="footnote-backref" href="#fnref:not-equality" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:fractional-part">
<p><mathjax>$\{x\}$</mathjax> 表示实数 <mathjax>$x$</mathjax> 的小数部分，即 <mathjax>$x - \lfloor x \rfloor$</mathjax>。注意当 <mathjax>$x$</mathjax> 是负数时的情况，如 <mathjax>$\{-0.3\} = -0.3 - (-1) = 0.7$</mathjax> 而不是 <mathjax>$0.3$</mathjax>。&#160;<a class="footnote-backref" href="#fnref:fractional-part" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:infinity-for-irrationals">
<p>对于有理数就不一样了，这种近似是有限的。这个结论在参考资料 <a href="#DAP">[DAP]</a> 的 “<strong>定理 2</strong>” 中证明了。&#160;<a class="footnote-backref" href="#fnref:infinity-for-irrationals" rev="footnote" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:uniformly-distribution">
<p>参见 <a href="https://en.wikipedia.org/wiki/Equidistribution_theorem">Equidistribution Theorem</a> (Wikipedia)&#160;<a class="footnote-backref" href="#fnref:uniformly-distribution" rev="footnote" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:a-irrational">
<p>头一回听上去挺奇怪的，毕竟每个闭区间里面都有无数的有理数 -.-&#160;<a class="footnote-backref" href="#fnref:a-irrational" rev="footnote" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:general-function">
<p>实际上这里的讨论只用到了 <mathjax>$f_k(x)$</mathjax> 在有理点取正数这个性质，因此所有满足有理点取正数，无理点为 <mathjax>$0$</mathjax> 的函数 <mathjax>$f(x)$</mathjax> 都有这个性质。这也是 <a href="#BRS09">[BRS09]</a> 的“命题 3.1”。&#160;<a class="footnote-backref" href="#fnref:general-function" rev="footnote" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
</ol>
</div>
          <hr/>
          <div id="comments"></div>
          <script type="text/javascript">
            const gitment = new Gitment({id: '6a83062c23c39d7a5ae4fc05715b56fe', owner: 'riteme', repo: 'riteme.github.io',
              oauth: {
                client_id: 'd4fcffa25858a7a58e1a',
                client_secret: 'e0c8e08beb95497871f8355416c69390634cec76',
              },
              perPage: 10,
            })
            gitment.render('comments')
          </script>
        </div>
      </div>
      <div class="mdl-cell mdl-cell--3-col mdl-cell--hide-tablet mdl-cell--hide-phone sidebar">
        <div class="article">
          <div class="mdl-card mdl-shadow--3dp sidebar-card">
            <div class="mdl-card__actions sidebar-title">页面信息</div>
            <div class="mdl-card__supporting-text">
              标签: <a href="/search.html?q=数学"><span class="label">数学</span></a> <a href="/search.html?q=数学分析"><span class="label">数学分析</span></a> <a href="/search.html?q=Thomae 函数"><span class="label">Thomae 函数</span></a> <a href="/search.html?q=Dirichlet 近似"><span class="label">Dirichlet 近似</span></a><br/>
              创建时间: 2018.11.24<br/>
              上次修改: 2018.12.02<br/>
              字数统计: 8025 字 / 约 32 分钟
            </div>
          </div>
          <br/>
          
<div class="mdl-card mdl-shadow--3dp sidebar-card">
  <div class="mdl-card__actions sidebar-title">目录</div>
  <div class="mdl-card__supporting-text">
    <div class="toc">
<ul>
<li><a href="#thomae">浅谈扩展 Thomae 函数的可微性</a><ul>
<li><a href="#_1">连续性</a></li>
<li><a href="#f_1x">$f_1(x)$ 的可微性</a></li>
<li><a href="#f_2x">$f_2(x)$ 的可微性</a><ul>
<li><a href="#_2">初步尝试</a></li>
<li><a href="#dirichlet">Dirichlet 定理</a></li>
<li><a href="#_3">最后一步</a></li>
</ul>
</li>
<li><a href="#f_3x">$f_3(x)$ 的可微性</a></li>
<li><a href="#_4">参考资料</a></li>
</ul>
</li>
</ul>
</div>
  </div>
</div>
<br/>

          <div class="mdl-card mdl-shadow--3dp sidebar-card">
            <div class="mdl-card__actions sidebar-title">数学公式渲染</div>
            <div class="mdl-card__supporting-text">
              <form name="mathopt">
                <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-1">
                  <input type="radio" id="option-1" class="mdl-radio__button" name="sel" value="mathjax">
                  <span class="mdl-radio__label">MathJax (推荐)</span>
                </label><br/>
                <div id="tip-1">
                  <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-2">
                    <input type="radio" id="option-2" class="mdl-radio__button" name="sel" value="katex">
                    <span class="mdl-radio__label">KaTeX</span>
                  </label>
                </div>
                <div id="tip-2">
                  <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-3">
                    <input type="radio" id="option-3" class="mdl-radio__button" name="sel" value="katex&mathjax">
                    <span class="mdl-radio__label">Mixed</span>
                  </label>
                </div>
              </form>
            </div>
          </div>
          <div class="mdl-tooltip" data-mdl-for="tip-1">KaTeX 渲染效率很高，但是目前 KaTeX 容错性不强，因此使用 KaTeX 时可能会存在一些数学公式无法渲染的情况</div>
          <div class="mdl-tooltip" data-mdl-for="tip-2">先使用 KaTeX 渲染，再使用 MathJax 渲染</div>
          <br/>
          <div class="nano mdl-card mdl-shadow--3dp sidebar-card" id="nano">
            <a class="nano-ref" target="_new" href="http://nichijou.wikia.com/wiki/Nano_Shinonome"></a>
            <div class="mdl-card__actions">
              <div class="nano-shell"><span class="shell-start">$</span> nano <a href="https://github.com/riteme/riteme.github.io/blob/master/blog/2018-11-24/thomae-function.md">thomae-function.md</a></div>
            </div>
          </div>
          <div class="mdl-tooltip" data-mdl-for="nano">Nano Shinonome</div>
        </div>
      </div>
    </div>
    <footer class="mdl-mega-footer">
      <div class="mdl-mega-footer__middle-section">
        <div class="mdl-mega-footer__drop-down-section">
          <input class="mdl-mega-footer__heading-checkbox" type="checkbox" checked>
          <h1 class="mdl-mega-footer__heading">RITEME.SITE</h1>一个从不乱说话的博客...
        </div>
        <div class="mdl-mega-footer__drop-down-section">
          <input class="mdl-mega-footer__heading-checkbox" type="checkbox" checked>
          <h1 class="mdl-mega-footer__heading">POWERED BY</h1>
          <ul class="mdl-mega-footer__link-list">
            <li><a href="http://pythonhosted.org/Markdown/">Python Markdown</a></li>
            <li><a href="http://getmdl.io/">Material Design Lite</a></li>
            <li><a href="http://www.tipue.com/search/">Tipuesearch</a></li>
            <li><a href="http://www.mathjax.org/">MathJax</a> & <a href="http://khan.github.io/KaTeX/">KaTeX</a></li>
            <li><a href="https://github.com/imsun/gitment">Gitment</a></li>
          </ul>
        </div>
        <div class="mdl-mega-footer__drop-down-section">
          <input class="mdl-mega-footer__heading-checkbox" type="checkbox" checked>
          <h1 class="mdl-mega-footer__heading">友情链接</h1>
          <ul class="mdl-mega-footer__link-list">
            <li><a href="http://ruanx.pw/">ruanxingzhi</a></li>
            <li><a href="https://blog.xehoth.cc/">xehoth</a></li>
            <li><a href="http://hjwjbsr.is-programmer.com/">HJWJBSR</a></li>
            <li><a href="http://www.micdz.cn/">MicDZ</a></li>
            <li><a href="http://blog.linyxus.xyz/">Linyxus</a></li>
            <li><a href="http://memset0.cf/">memset0</a></li>
          </ul>
        </div>
      </div>
      <div class="mdl-mega-footer__bottom-section">Theme based on <a href="https://getmdl.io/">MDL</a> | Copyright © 2015-2018 riteme. All rights reserved.</div>
    </footer>
  </main>
</div>
</body>
</html>
